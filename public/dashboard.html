<!DOCTYPE html>
<html>
<head>
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Dashboard</title>
<style>
body{
margin:0;
font-family:Arial;
background:linear-gradient(135deg,#0f0c29,#302b63,#24243e);
display:flex;
justify-content:center;
align-items:center;
min-height:100vh;
}
.card{
width:95%;
max-width:420px;
background:#141422;
padding:20px;
border-radius:15px;
box-shadow:0 0 25px gold;
text-align:center;
}
h2{color:gold}
.balance{
font-size:20px;
margin-bottom:15px;
}
input,select{
width:100%;
padding:10px;
margin:8px 0;
border:none;
border-radius:8px;
}
button{
width:100%;
padding:10px;
margin-top:8px;
background:gold;
border:none;
border-radius:8px;
font-weight:bold;
}
.notice{
background:#00c853;
padding:8px;
border-radius:8px;
margin-top:10px;
display:none;
}
</style>
</head>
<body>

<div class="card">

<h2>Silk Casino</h2>
<div class="balance" id="balance">Balance: 0</div>

<h3>Deposit</h3>
<input id="dAmount" placeholder="Amount">
<select id="dMethod">
<option>JazzCash</option>
<option>EasyPaisa</option>
</select>
<input id="trx" placeholder="Transaction ID">
<button onclick="deposit()">Submit Deposit</button>

<h3>Withdraw</h3>
<input id="wAmount" placeholder="Amount">
<select id="wMethod">
<option>JazzCash</option>
<option>EasyPaisa</option>
</select>
<input id="account" placeholder="Account Number">
<button onclick="withdraw()">Submit Withdraw</button>

<div class="notice" id="notice"></div>

</div>

<script>

let balance=0;

fetch("/balance")
.then(r=>r.json())
.then(d=>{
balance=d.balance;
document.getElementById("balance").innerText="Balance: "+balance;
});

function show(msg){
let n=document.getElementById("notice");
n.innerText=msg;
n.style.display="block";
setTimeout(()=>{n.style.display="none"},3000);
}

function deposit(){
fetch("/deposit",{
method:"POST",
headers:{"Content-Type":"application/json"},
body:JSON.stringify({
amount:document.getElementById("dAmount").value,
method:document.getElementById("dMethod").value,
trxId:document.getElementById("trx").value
})
}).then(r=>r.json()).then(d=>show(d.message));
}

function withdraw(){
fetch("/withdraw",{
method:"POST",
headers:{"Content-Type":"application/json"},
body:JSON.stringify({
amount:document.getElementById("wAmount").value,
method:document.getElementById("wMethod").value,
account:document.getElementById("account").value
})
}).then(r=>r.json()).then(d=>show(d.message));
}

</script>

</body>
</html>
