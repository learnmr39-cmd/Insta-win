<!DOCTYPE html>
<html>
<head>
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Silk Casino</title>

<style>
body{background:#0b0b12;color:white;font-family:Arial;margin:0}
.card{max-width:420px;margin:20px auto;background:#141422;padding:20px;border-radius:15px;box-shadow:0 0 25px gold;text-align:center}
button{padding:10px;margin:5px;border:none;border-radius:8px;background:gold;font-weight:bold}
input{padding:10px;margin:5px;width:90%;border-radius:8px;border:none}
.amounts button{width:80px}
.notification{background:#00c853;padding:10px;border-radius:8px;margin:10px;display:none}
</style>

</head>

<body>

<div class="card">

<h2>Silk Lucky Casino</h2>
<h3 id="balance">Balance: 0</h3>

<div class="notification" id="notify"></div>

<h4>Deposit</h4>

<div class="amounts">
<button onclick="setAmount(100)">100</button>
<button onclick="setAmount(1500)">1500</button>
<button onclick="setAmount(3500)">3500</button>
<button onclick="setAmount(5000)">5000</button>
<button onclick="setAmount(10000)">10000</button>
</div>

<input id="amount" placeholder="Or enter custom amount">
<br>

<select id="method">
<option value="JazzCash">JazzCash</option>
<option value="EasyPaisa">EasyPaisa</option>
</select>

<input id="mobile" placeholder="Your Mobile Number">
<br>

<button onclick="showDetails()">Next</button>

<div id="paymentDetails" style="display:none">

<p id="detailsText"></p>

<input id="trxId" placeholder="Enter Transaction ID">

<button onclick="submitDeposit()">Submit Deposit</button>

<p style="font-size:12px;color:gold">
Deposit karne ke baad Transaction ID upar box me likh kar submit karen.
</p>

</div>

<h4>Withdraw</h4>

<input id="wAmount" placeholder="Withdraw amount">
<select id="wMethod">
<option value="JazzCash">JazzCash</option>
<option value="EasyPaisa">EasyPaisa</option>
</select>
<input id="wAccount" placeholder="Your JazzCash/EasyPaisa Number">

<button onclick="submitWithdraw()">Withdraw</button>

</div>

<script>

let balance=0;

fetch("/balance")
.then(res=>res.json())
.then(data=>{
balance=data.balance;
document.getElementById("balance").innerText="Balance: "+balance;
});

function setAmount(val){
document.getElementById("amount").value=val;
}

function showDetails(){
let method=document.getElementById("method").value;
let details="";

if(method==="JazzCash"){
details="JazzCash Account Name: Muhammad Zeeshan Afzal<br>Account No: 03457526986";
}else{
details="EasyPaisa Account Name: Muhammad Zeeshan Afzal<br>Account No: 03457526986";
}

document.getElementById("detailsText").innerHTML=details;
document.getElementById("paymentDetails").style.display="block";
}

function submitDeposit(){

fetch("/deposit",{
method:"POST",
headers:{"Content-Type":"application/json"},
body:JSON.stringify({
amount:document.getElementById("amount").value,
method:document.getElementById("method").value,
trxId:document.getElementById("trxId").value
})
})
.then(res=>res.json())
.then(data=>{
showNotification("Deposit request submitted. Pending approval.");
});
}

function submitWithdraw(){

fetch("/withdraw",{
method:"POST",
headers:{"Content-Type":"application/json"},
body:JSON.stringify({
amount:document.getElementById("wAmount").value,
method:document.getElementById("wMethod").value,
account:document.getElementById("wAccount").value
})
})
.then(res=>res.json())
.then(data=>{
showNotification("Withdraw request submitted. Pending approval.");
});
}

function showNotification(msg){
let box=document.getElementById("notify");
box.innerText=msg;
box.style.display="block";
setTimeout(()=>{box.style.display="none"},3000);
}

</script>

</body>
</html>
